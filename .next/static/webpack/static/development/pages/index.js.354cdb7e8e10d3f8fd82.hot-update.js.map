{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.354cdb7e8e10d3f8fd82.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Posts from '../components/Posts'\r\nimport Tags from '../components/Tags'\r\nimport fetch from 'isomorphic-unfetch'\r\nimport '../styles/style.css'\r\n\r\nconst Index=(props)=>(\r\n    <div className='container'>\r\n        <div className=\"title\">\r\n            <h1>Acumulado Grilla</h1>\r\n\r\n        </div>\r\n        <Tags tags={props.tags}/>\r\n        <div>\r\n            <Posts articles={props.articles} />\r\n            \r\n        </div>\r\n    </div>\r\n)\r\n\r\n//Elimina los objetos duplicados. Se utiliza para eliminar las tags repetidas\r\n\r\nconst deleteDuplicates=(arr,prop)=>{\r\n    let newArray = [];\r\n    let lookup  = {};\r\n \r\n     for (let i in arr) {\r\n         lookup[arr[i][prop]] = arr[i];\r\n     }\r\n \r\n     for (let i in lookup) {\r\n         newArray.push(lookup[i]);\r\n     }\r\n \r\n     return newArray;\r\n}\r\n\r\nIndex.getInitialProps=async(req)=>{\r\n    const data= await fetch('https://api-test-ln.herokuapp.com/articles')\r\n    const res = await data.json()\r\n    let tags=[]\r\n\r\n    for (const art of res.articles) {\r\n        for (const tag of art.taxonomy.tags) {\r\n            tags.push(tag)\r\n        }\r\n    }\r\n\r\n    tags=deleteDuplicates(tags,'text')\r\n\r\n    return{\r\n        articles:res.articles,\r\n        tags:tags.sort(function (a, b) {\r\n            if (a.text > b.text) {\r\n              return 1;\r\n            }\r\n            if (a.text < b.text) {\r\n              return -1;\r\n            }\r\n            return 0;\r\n          })\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default Index"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AARA;AACA;AACA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AALA;AAAA;AAAA;AAAA;AACA;AAKA;AAAA;AACA;AACA;AACA;AATA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAWA;AAXA;AAcA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAVA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA4BA;;;;A","sourceRoot":""}