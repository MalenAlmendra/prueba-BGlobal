{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _getIterator from \"@babel/runtime-corejs2/core-js/get-iterator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Malen\\\\Desktop\\\\prueba-bglobal\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Posts from '../components/Posts';\nimport Tags from '../components/Tags';\nimport fetch from 'isomorphic-unfetch';\n\nvar Index = function Index(props) {\n  return __jsx(React.Fragment, null, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, \"Acumulado Grilla\"), __jsx(Tags, {\n    tags: props.tags,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, __jsx(Posts, {\n    articles: props.articles,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }), __jsx(\"aside\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, \"ASIDE\"))));\n};\n\nIndex.getInitialProps = function _callee(req) {\n  var data, res, tags, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, art, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, tag;\n\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch('https://api-test-ln.herokuapp.com/articles'));\n\n        case 2:\n          data = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(data.json());\n\n        case 5:\n          res = _context.sent;\n          tags = [];\n          _iteratorNormalCompletion = true;\n          _didIteratorError = false;\n          _iteratorError = undefined;\n          _context.prev = 10;\n          _iterator = _getIterator(res.articles);\n\n        case 12:\n          if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n            _context.next = 36;\n            break;\n          }\n\n          art = _step.value;\n          _iteratorNormalCompletion2 = true;\n          _didIteratorError2 = false;\n          _iteratorError2 = undefined;\n          _context.prev = 17;\n\n          for (_iterator2 = _getIterator(art.taxonomy.tags); !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            tag = _step2.value;\n            tags.push(tag);\n          }\n\n          _context.next = 25;\n          break;\n\n        case 21:\n          _context.prev = 21;\n          _context.t0 = _context[\"catch\"](17);\n          _didIteratorError2 = true;\n          _iteratorError2 = _context.t0;\n\n        case 25:\n          _context.prev = 25;\n          _context.prev = 26;\n\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n\n        case 28:\n          _context.prev = 28;\n\n          if (!_didIteratorError2) {\n            _context.next = 31;\n            break;\n          }\n\n          throw _iteratorError2;\n\n        case 31:\n          return _context.finish(28);\n\n        case 32:\n          return _context.finish(25);\n\n        case 33:\n          _iteratorNormalCompletion = true;\n          _context.next = 12;\n          break;\n\n        case 36:\n          _context.next = 42;\n          break;\n\n        case 38:\n          _context.prev = 38;\n          _context.t1 = _context[\"catch\"](10);\n          _didIteratorError = true;\n          _iteratorError = _context.t1;\n\n        case 42:\n          _context.prev = 42;\n          _context.prev = 43;\n\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n\n        case 45:\n          _context.prev = 45;\n\n          if (!_didIteratorError) {\n            _context.next = 48;\n            break;\n          }\n\n          throw _iteratorError;\n\n        case 48:\n          return _context.finish(45);\n\n        case 49:\n          return _context.finish(42);\n\n        case 50:\n          return _context.abrupt(\"return\", {\n            articles: res.articles,\n            tags: tags.sort(function (a, b) {\n              if (a.text > b.text) {\n                return 1;\n              }\n\n              if (a.text < b.text) {\n                return -1;\n              } // a must be equal to b\n\n\n              return 0;\n            }).filter(valorInicial, indiceActual, function (tags) {\n              return tags.IndexOf(valorInicial) === indiceActual;\n            })\n          });\n\n        case 51:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[10, 38, 42, 50], [17, 21, 25, 33], [26,, 28, 32], [43,, 45, 49]]);\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/Malen/Desktop/prueba-bglobal/pages/index.js"],"names":["Posts","Tags","fetch","Index","props","tags","articles","getInitialProps","req","data","json","res","art","taxonomy","tag","push","sort","a","b","text","filter","valorInicial","indiceActual","IndexOf"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,qBAAlB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;AAEA,IAAMC,KAAK,GAAC,SAANA,KAAM,CAACC,KAAD;AAAA,SACR,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI,MAAC,IAAD;AAAM,IAAA,IAAI,EAAEA,KAAK,CAACC,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,KAAD;AAAO,IAAA,QAAQ,EAAED,KAAK,CAACE,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAP,CAFJ,CAHJ,CADQ;AAAA,CAAZ;;AAaAH,KAAK,CAACI,eAAN,GAAsB,iBAAMC,GAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACAN,KAAK,CAAC,4CAAD,CADL;;AAAA;AACZO,UAAAA,IADY;AAAA;AAAA,2CAEAA,IAAI,CAACC,IAAL,EAFA;;AAAA;AAEZC,UAAAA,GAFY;AAGdN,UAAAA,IAHc,GAGT,EAHS;AAAA;AAAA;AAAA;AAAA;AAAA,mCAKAM,GAAG,CAACL,QALJ;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKPM,UAAAA,GALO;AAAA;AAAA;AAAA;AAAA;;AAMV,yCAAkBA,GAAG,CAACC,QAAJ,CAAaR,IAA/B,yGAAqC;AAA1BS,YAAAA,GAA0B;AAEjCT,YAAAA,IAAI,CAACU,IAAL,CAAUD,GAAV;AACH;;AATS;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,2CAYZ;AACFR,YAAAA,QAAQ,EAACK,GAAG,CAACL,QADX;AAEFD,YAAAA,IAAI,EAACA,IAAI,CAACW,IAAL,CAAU,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC3B,kBAAID,CAAC,CAACE,IAAF,GAASD,CAAC,CAACC,IAAf,EAAqB;AACnB,uBAAO,CAAP;AACD;;AACD,kBAAIF,CAAC,CAACE,IAAF,GAASD,CAAC,CAACC,IAAf,EAAqB;AACnB,uBAAO,CAAC,CAAR;AACD,eAN0B,CAO3B;;;AACA,qBAAO,CAAP;AACD,aATE,EASAC,MATA,CASOC,YATP,EASoBC,YATpB,EASiC,UAAAjB,IAAI;AAAA,qBAAEA,IAAI,CAACkB,OAAL,CAAaF,YAAb,MAA6BC,YAA/B;AAAA,aATrC;AAFH,WAZY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAtB;;AA6BA,eAAenB,KAAf","sourcesContent":["import Posts from '../components/Posts'\r\nimport Tags from '../components/Tags'\r\nimport fetch from 'isomorphic-unfetch'\r\n\r\nconst Index=(props)=>(\r\n    <>\r\n        <h1>Acumulado Grilla</h1>\r\n        <Tags tags={props.tags}/>\r\n        <div>\r\n            <Posts articles={props.articles} />\r\n            <aside><h1>ASIDE</h1></aside>\r\n        </div>\r\n     \r\n        \r\n    </>\r\n)\r\n\r\nIndex.getInitialProps=async(req)=>{\r\n    const data= await fetch('https://api-test-ln.herokuapp.com/articles')\r\n    const res = await data.json()\r\n    let tags=[]\r\n\r\n    for (const art of res.articles) {\r\n            for (const tag of art.taxonomy.tags) {\r\n\r\n                tags.push(tag)\r\n            }\r\n        }\r\n\r\n    return{\r\n        articles:res.articles,\r\n        tags:tags.sort(function (a, b) {\r\n            if (a.text > b.text) {\r\n              return 1;\r\n            }\r\n            if (a.text < b.text) {\r\n              return -1;\r\n            }\r\n            // a must be equal to b\r\n            return 0;\r\n          }).filter(valorInicial,indiceActual,tags=>tags.IndexOf(valorInicial)===indiceActual)\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default Index"]},"metadata":{},"sourceType":"module"}